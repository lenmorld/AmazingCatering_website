function ValidateClient(a){this.config={};this.$fb=a;this.maxnumerrors=-1}ValidateClient.prototype.clone=function(c){if(c==null||typeof(c)!="object"){return c}var a={};for(var b in c){a[b]=this.clone(c[b])}return a};ValidateClient.prototype.init_editor=function(){this.$fb("#fb-submit-button").click(function(){return false})};ValidateClient.prototype.init_client=function(a){var b=this;this.$fb("#docContainer input:submit, #docContainer button:submit").click(function(c){b.$fb("#docContainer .placeholder").val("");if(b.$fb("#docContainer").attr("data-form")=="automated"||b.$fb("#docContainer").attr("data-form")=="publish"){if(!b.$fb("#docContainer").valid()){var d=b.$fb("#docContainer").attr("action");var e=b.$fb("#docContainer").validate().numberOfInvalids();d=d.replace(/(?:\.php)|\/$/i,"/fbapp/api/formchangestats.php?error="+e);b.$fb.get(d)}}if(b.$fb("#docContainer").attr("data-form")!="preview"){if(b.$fb(this).attr("data-disabled")){c.preventDefault();c.stopPropagation();return false}if(b.$fb("#docContainer").valid()){b.$fb(this).attr("data-disabled","disabled")}}return true});if(a){this.$fb.validator.setDefaults({submitHandler:function(c){if(b.$fb(c).valid()){}}})}this.$fb("#docContainer").validate({errorPlacement:function(d,e){if(b.maxnumerrors!=-1){var c=0;b.$fb.each(b.$fb("#docContainer label.error"),function(g,f){if(b.$fb(f).css("display")!="none"){c++}});if(c>=b.maxnumerrors){return}}offset=e.offset();if(b.$fb(e).attr("type")=="checkbox"||b.$fb(e).attr("type")=="radio"){b.$fb(e).parent().parent().append(b.$fb(d))}else{if(b.$fb(e).attr("id")=="recaptcha_response_field"){b.$fb(d).insertAfter(b.$fb("#recaptcha_area"))}else{b.$fb(d).insertAfter(b.$fb(e))}}d.addClass("message")}});this.set_config(JSON.parse(data_validation));this.add_rules()};ValidateClient.prototype.set_config=function(a){this.config=this.clone(a)};ValidateClient.prototype.set_config_json=function(a){if(typeof a=="undefined"||a===null||typeof a!="string"){return false}this.config=JSON.parse(a);return true};ValidateClient.prototype.add_rule_type=function(e,n){if(arguments.length!=2){return false}if(typeof this.config[e]=="undefined"||this.config[e]===null){return false}if(typeof this.config[e][n]=="undefined"||this.config[e][n]===null||this.config[e][n]==""){return false}if(e!="reCaptcha"&&e!="_special"&&!this.$fb("#"+e).length){return false}var q=this;if(n=="date_config"){if((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))){var h=this.$fb("#"+e).clone();h.attr("type","text");this.$fb("#"+e).replaceWith(h)}this.$fb("#"+e).attr("id","").removeClass("hasDatepicker").removeData("datepicker").unbind().attr("id",e).datepicker({onClose:function(){q.$fb("#docContainer").validate().element(this)},showAnim:""});for(var d in this.config[e][n]){if(this.config[e][n].hasOwnProperty(d)){var i={};if(d=="minDate"||d=="maxDate"){if(this.config[e][n][d]!=""){i[d]=new Date(this.config[e][n][d])}}else{i[d]=this.config[e][n][d]}this.$fb("#"+e).datepicker("option",d,i[d])}}}else{if(n=="hover"){var g=document.getElementById("form_init_script").getAttribute("data-name");var l=4;if(navigator.appName=="Microsoft Internet Explorer"){l=5}for(var p in this.config[e][n]){var o=this.$fb("#"+e).css(p);var k=q.config[e][n][p];if((this.$fb("#docContainer").attr("data-form")=="automated"&&this.$fb("#docContainer").attr("action")!="./")||(this.$fb("#docContainer").attr("data-form")=="manual_iframe"&&this.$fb("#docContainer").attr("action")!="../"+g+".php")){k=k!=""?k.substr(0,4)+g+k.substr(4,k.length):k}if(k!="none"&&k!=""){var f=k.substr(k.indexOf("(")+1,k.indexOf(")")-k.indexOf("(")-1);var m=o.substr(o.indexOf("(")+1,o.indexOf(")")-o.indexOf("(")-1);this.$fb("<img/>").attr("src",f);this.$fb("<img/>").attr("src",m)}var q=this;this.$fb("#"+e).hover(function(){if(k!="none"&&k!=""){q.$fb(this).css("background-image",k)}else{if(k=="none"){q.$fb(this).css("background-image",o)}else{q.$fb(this).css("background-image","")}}},function(){if(k!=""){q.$fb(this).css("background-image",o)}})}}else{if(n=="maxnumerrors"){if(this.config[e][n]!=undefined&&this.config[e][n]!=""){this.maxnumerrors=this.config[e][n]}}else{if(n=="captcha"){if(this.config[e][n]&&this.$fb("#recaptcha_response_field").length){this.$fb("#recaptcha_response_field").rules("add",{required:true})}}else{var a={};a[n]=this.config[e][n];if(this.$fb("#"+e).is("input[type='checkbox']")&&n=="minlength"){var c={};c[n]="Please select at least {0} options.";a.messages=c}if(typeof(this.config[e].messages)=="string"){var b={};b[n]=this.config[e].messages;if(n=="range"){b.max=this.config[e].messages;b.min=this.config[e].messages}a.messages=b}if(n=="equalTo"){var j=this.config[e].equalTo.substring(1,this.config[e].equalTo.length);if(typeof(this.config[j].messages)=="string"){var b={};b[n]=this.config[j].messages;a.messages=b}}this.$fb("#"+e).rules("add",a)}}}}return true};ValidateClient.prototype.add_rule_id=function(b){if(arguments.length!=1){return false}if(typeof this.config[b]=="undefined"||this.config[b]===null){return false}for(var a in this.config[b]){if(this.config[b].hasOwnProperty(a)){this.add_rule_type(b,a)}}return true};ValidateClient.prototype.add_rules=function(){for(var a in this.config){if(this.config.hasOwnProperty(a)){this.add_rule_id(a)}}return true};
//function ValidateClient(a){this.config={};this.$fb=a;this.maxnumerrors=-1}ValidateClient.prototype.clone=function(c){if(c==null||typeof(c)!="object"){return c}var a={};for(var b in c){a[b]=this.clone(c[b])}return a};ValidateClient.prototype.init_editor=function(){this.$fb("#fb-submit-button").click(function(){return false})};ValidateClient.prototype.init_client=function(a){var b=this;this.$fb("#docContainer input:submit, #docContainer button:submit").click(function(c){b.$fb("#docContainer .placeholder").val("");if(b.$fb("#docContainer").attr("data-form")=="automated"||b.$fb("#docContainer").attr("data-form")=="publish"){if(!b.$fb("#docContainer").valid()){var d=b.$fb("#docContainer").attr("action");var e=b.$fb("#docContainer").validate().numberOfInvalids();d=d.replace(/(?:\.php)|\/$/i,"/fbapp/api/formchangestats.php?error="+e);b.$fb.get(d)}}if(b.$fb("#docContainer").attr("data-form")!="preview"){if(b.$fb(this).attr("data-disabled")){c.preventDefault();c.stopPropagation();return false}if(b.$fb("#docContainer").valid()){b.$fb(this).attr("data-disabled","disabled")}}return true});if(a){this.$fb.validator.setDefaults({submitHandler:function(c){if(b.$fb(c).valid()){alert("Submitted!")}}})}this.$fb("#docContainer").validate({errorPlacement:function(d,e){if(b.maxnumerrors!=-1){var c=0;b.$fb.each(b.$fb("#docContainer label.error"),function(g,f){if(b.$fb(f).css("display")!="none"){c++}});if(c>=b.maxnumerrors){return}}offset=e.offset();if(b.$fb(e).attr("type")=="checkbox"||b.$fb(e).attr("type")=="radio"){b.$fb(e).parent().parent().append(b.$fb(d))}else{if(b.$fb(e).attr("id")=="recaptcha_response_field"){b.$fb(d).insertAfter(b.$fb("#recaptcha_area"))}else{b.$fb(d).insertAfter(b.$fb(e))}}d.addClass("message")}});this.set_config(JSON.parse(data_validation));this.add_rules()};ValidateClient.prototype.set_config=function(a){this.config=this.clone(a)};ValidateClient.prototype.set_config_json=function(a){if(typeof a=="undefined"||a===null||typeof a!="string"){return false}this.config=JSON.parse(a);return true};ValidateClient.prototype.add_rule_type=function(e,n){if(arguments.length!=2){return false}if(typeof this.config[e]=="undefined"||this.config[e]===null){return false}if(typeof this.config[e][n]=="undefined"||this.config[e][n]===null||this.config[e][n]==""){return false}if(e!="reCaptcha"&&e!="_special"&&!this.$fb("#"+e).length){return false}var q=this;if(n=="date_config"){if((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))){var h=this.$fb("#"+e).clone();h.attr("type","text");this.$fb("#"+e).replaceWith(h)}this.$fb("#"+e).attr("id","").removeClass("hasDatepicker").removeData("datepicker").unbind().attr("id",e).datepicker({onClose:function(){q.$fb("#docContainer").validate().element(this)},showAnim:""});for(var d in this.config[e][n]){if(this.config[e][n].hasOwnProperty(d)){var i={};if(d=="minDate"||d=="maxDate"){if(this.config[e][n][d]!=""){i[d]=new Date(this.config[e][n][d])}}else{i[d]=this.config[e][n][d]}this.$fb("#"+e).datepicker("option",d,i[d])}}}else{if(n=="hover"){var g=document.getElementById("form_init_script").getAttribute("data-name");var l=4;if(navigator.appName=="Microsoft Internet Explorer"){l=5}for(var p in this.config[e][n]){var o=this.$fb("#"+e).css(p);var k=q.config[e][n][p];if((this.$fb("#docContainer").attr("data-form")=="automated"&&this.$fb("#docContainer").attr("action")!="./")||(this.$fb("#docContainer").attr("data-form")=="manual_iframe"&&this.$fb("#docContainer").attr("action")!="../"+g+".php")){k=k!=""?k.substr(0,4)+g+k.substr(4,k.length):k}if(k!="none"&&k!=""){var f=k.substr(k.indexOf("(")+1,k.indexOf(")")-k.indexOf("(")-1);var m=o.substr(o.indexOf("(")+1,o.indexOf(")")-o.indexOf("(")-1);this.$fb("<img/>").attr("src",f);this.$fb("<img/>").attr("src",m)}var q=this;this.$fb("#"+e).hover(function(){if(k!="none"&&k!=""){q.$fb(this).css("background-image",k)}else{if(k=="none"){q.$fb(this).css("background-image",o)}else{q.$fb(this).css("background-image","")}}},function(){if(k!=""){q.$fb(this).css("background-image",o)}})}}else{if(n=="maxnumerrors"){if(this.config[e][n]!=undefined&&this.config[e][n]!=""){this.maxnumerrors=this.config[e][n]}}else{if(n=="captcha"){if(this.config[e][n]&&this.$fb("#recaptcha_response_field").length){this.$fb("#recaptcha_response_field").rules("add",{required:true})}}else{var a={};a[n]=this.config[e][n];if(this.$fb("#"+e).is("input[type='checkbox']")&&n=="minlength"){var c={};c[n]="Please select at least {0} options.";a.messages=c}if(typeof(this.config[e].messages)=="string"){var b={};b[n]=this.config[e].messages;if(n=="range"){b.max=this.config[e].messages;b.min=this.config[e].messages}a.messages=b}if(n=="equalTo"){var j=this.config[e].equalTo.substring(1,this.config[e].equalTo.length);if(typeof(this.config[j].messages)=="string"){var b={};b[n]=this.config[j].messages;a.messages=b}}this.$fb("#"+e).rules("add",a)}}}}return true};ValidateClient.prototype.add_rule_id=function(b){if(arguments.length!=1){return false}if(typeof this.config[b]=="undefined"||this.config[b]===null){return false}for(var a in this.config[b]){if(this.config[b].hasOwnProperty(a)){this.add_rule_type(b,a)}}return true};ValidateClient.prototype.add_rules=function(){for(var a in this.config){if(this.config.hasOwnProperty(a)){this.add_rule_id(a)}}return true};