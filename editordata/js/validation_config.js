function ValidationConfig(){this.validation_config={};this.plugins_config={js:[],css:[]};this.date_formats_RFC={US_SLASHED:"mm/dd/yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1123:"D, d M yy",COOKIE:"D, dd M yy",DATE_CUSTOM_1:"dd/mm/yy",DATE_CUSTOM_2:"yy/mm/dd",DATE_CUSTOM_3:"mm-dd-yy",DATE_CUSTOM_4:"dd-mm-yy",DATE_CUSTOM_5:"dd.mm.yy",DATE_CUSTOM_6:"dd.mm.y",DATE_CUSTOM_7:"dd:mm:yy",DATE_CUSTOM_8:"dd.MM y",DATE_CUSTOM_9:"dd.MM"};this.reg_exp_defaults={Alphanumeric:"/[0-9a-z]/i","Only Numbers":"/^[0-9]+$/","Only Letters":"/^[a-z]+$/i","No White Spaces":"/^[\\S]+$/","Bank Routing Number (USA)":"/^[0-9]{9}$/","Bank Account Number (USA)":"/^[0-9]{8,16}$/","eBay Item ID":"/^\\d{12}$/","ZIP Code (USA)":"/^[0-9]{5}$/","Only Upper case":"/^[A-Z]+$/","Only Lower case":"/^[a-z]+$/",Custom:""}}ValidationConfig.prototype.get_RFC_from_DateFormat=function(a){if(arguments.length!=1){return""}for(RFC in this.date_formats_RFC){if(this.date_formats_RFC[RFC]==a){return RFC}}return""};ValidationConfig.prototype.normalize_name=function(a){a=fb_utils.replaceString(a,"'","\\'");a=fb_utils.replaceString(a," ","_");a=fb_utils.replaceString(a,".","_");return a};ValidationConfig.prototype.get_config_value=function(b,a){if(arguments.length!=2){return""}if(typeof this.validation_config[b]=="undefined"||this.validation_config[b]===null){return""}if(typeof this.validation_config[b][a]=="undefined"||this.validation_config[b][a]===null){return""}return fb_utils.cloneObject(this.validation_config[b][a])};ValidationConfig.prototype.get_config_subtype=function(c,b,a){if(arguments.length!=3){return""}if(typeof this.validation_config[c]=="undefined"||this.validation_config[c]===null){return""}if(typeof this.validation_config[c][b]=="undefined"||this.validation_config[c][b]===null){return""}if(typeof this.validation_config[c][b][a]=="undefined"||this.validation_config[c][b][a]===null){return""}return fb_utils.cloneObject(this.validation_config[c][b][a])};ValidationConfig.prototype.get_config_id=function(a){if(arguments.length!=1){return{}}if(typeof this.validation_config[a]=="undefined"||this.validation_config[a]===null){return{}}return fb_utils.cloneObject(this.validation_config[a])};ValidationConfig.prototype.get_config=function(){if(arguments.length!==0){return false}return fb_utils.cloneObject(this.validation_config)};ValidationConfig.prototype.set_config_type=function(c,a,b){if(arguments.length!=3){return false}if(b===""){this.remove_config_type(c,a);return true}if(typeof this.validation_config[c]=="undefined"||this.validation_config[c]===null){this.validation_config[c]={}}this.validation_config[c][a]=fb_utils.cloneObject(b);return true};ValidationConfig.prototype.set_config_subtype=function(d,b,a,c){if(arguments.length!=4){return false}if(typeof this.validation_config[d]=="undefined"||this.validation_config[d]===null){this.validation_config[d]={}}if(typeof this.validation_config[d][b]=="undefined"||this.validation_config[d][b]===null){this.validation_config[d][b]={}}this.validation_config[d][b][a]=fb_utils.cloneObject(c);return true};ValidationConfig.prototype.set_config_subsubtype=function(e,b,a,d,c){if(arguments.length!=5){return false}if(typeof this.validation_config[e]=="undefined"||this.validation_config[e]===null){this.validation_config[e]={}}if(typeof this.validation_config[e][b]=="undefined"||this.validation_config[e][b]===null){this.validation_config[e][b]={}}if(typeof this.validation_config[e][b][a]=="undefined"||this.validation_config[e][b][a]===null){this.validation_config[e][b][a]={}}if(c===""){this.remove_config_subtype(e,b,a,d);return true}this.validation_config[e][b][a][d]=fb_utils.cloneObject(c);return true};ValidationConfig.prototype.get_config_subsubtype=function(d,b,a,c){if(arguments.length!=4){return""}if(typeof this.validation_config[d]=="undefined"||this.validation_config[d]===null){return""}if(typeof this.validation_config[d][b]=="undefined"||this.validation_config[d][b]===null){return""}if(typeof this.validation_config[d][b][a]=="undefined"||this.validation_config[d][b][a]===null){return""}if(typeof this.validation_config[d][b][a][c]=="undefined"||this.validation_config[d][b][a][c]===null){return""}return fb_utils.cloneObject(this.validation_config[d][b][a][c])};ValidationConfig.prototype.set_config_id=function(b,a){if(arguments.length!=2){return false}this.remove_config_id(b);for(type in a){this.set_config_type(b,type,a[type])}return true};ValidationConfig.prototype.set_config=function(a){if(arguments.length!=1){return false}if(typeof a=="undefined"||a===null){return false}this.validation_config=fb_utils.cloneObject(a);return true};ValidationConfig.prototype.remove_config_type=function(b,a){if(arguments.length!=2){return false}if(typeof this.validation_config[b]=="undefined"||this.validation_config[b]===null){return false}if(typeof this.validation_config[b][a]=="undefined"||this.validation_config[b][a]===null){return false}return delete this.validation_config[b][a]};ValidationConfig.prototype.remove_config_subtype=function(c,b,a){if(arguments.length!=3){return false}if(typeof this.validation_config[c]=="undefined"||this.validation_config[c]===null){return false}if(typeof this.validation_config[c][b]=="undefined"||this.validation_config[c][b]===null){return false}if(typeof this.validation_config[c][b][a]=="undefined"||this.validation_config[c][b][a]===null){return false}return delete this.validation_config[c][b][a]};ValidationConfig.prototype.remove_config_id=function(a){if(arguments.length!=1){return false}return delete this.validation_config[a]};ValidationConfig.prototype.remove_config=function(){if(arguments.length!==0){return false}this.validation_config={};return true};ValidationConfig.prototype.set_date_config=function(c){if(arguments.length!=1){return false}if(typeof this.validation_config[c]=="undefined"||this.validation_config[c]===null){return false}if(typeof this.validation_config[c]["date"]=="undefined"||this.validation_config[c]["date"]===null){return false}if(typeof this.validation_config[c]["date_config"]=="undefined"||this.validation_config[c]["date_config"]===null){return false}$("#"+c).attr("id","").removeClass("hasDatepicker").removeData("datepicker").unbind().attr("id",c).datepicker();for(var a in this.validation_config[c]["date_config"]){if(this.validation_config[c]["date_config"].hasOwnProperty(a)){var b=this.validation_config[c]["date_config"][a];if(b){if(a=="dateFormat"){b=this.date_formats_RFC[b]}else{if(a=="minDate"||a=="maxDate"){b=new Date(b)}}$("#"+c).datepicker("option",a,b)}}}return true};ValidationConfig.prototype.get_json=function(){if(arguments.length!==0){return""}return JSON.stringify(this.validation_config)};ValidationConfig.prototype.set_json=function(a){if(typeof a=="undefined"||a===null||typeof a!="string"){return false}this.validation_config=JSON.parse(a);return true};ValidationConfig.prototype.get_json_for_client=function(){var a={};for(var c in this.validation_config){if(this.validation_config.hasOwnProperty(c)){var h={};for(var j in this.validation_config[c]){if(j=="equalTo"){var d={};d[j]="#"+c;a[this.validation_config[c][j]]=d;continue}else{if(j=="date"){if(this.validation_config[c]["date_config"]["dateFormat"]=="ISO_8601"){h.dateISO=this.validation_config[c][j]}else{h[j]=this.validation_config[c][j]}}else{if(j=="date_config"){var f={};for(var e in this.validation_config[c][j]){if(e=="dateFormat"){f[e]=this.date_formats_RFC[this.validation_config[c][j][e]]}else{f[e]=this.validation_config[c][j][e]}}h[j]=f}else{if(j=="captcha_status"){var i=false;if(this.validation_config[c][j]=="automatic"||this.validation_config[c][j]=="manual"){i=true}h.captcha=i}else{if(j=="accept"){h[j]=fb_utils.replaceString(this.validation_config[c][j],",","|")}else{if(j=="phone"){h[this.validation_config[c][j]]=true}else{if(j=="regex_config"){var b=this.validation_config[c][j].value;b=fb_utils.replaceString(b,"\\","\\\\");h[j]=b}else{if(j=="decimals"){var b=this.validation_config[c][j];if(b==0){b="zero"}h[j]=b}else{if(j=="messages"){var b=this.validation_config[c][j];b=fb_utils.replaceString(b,"\r","");b=fb_utils.replaceString(b,"\n","");h[j]=b}else{if(j!="label"&&j!="label_equal"&&j!="checkbox"&&j!="attach"&&j!="files"&&j!="database"&&j!="public_key"&&j!="private_key"&&j!="fieldtype"&&j!="maxbytes"&&j!="theme"&&j!="contactList"){h[j]=typeof this.validation_config[c][j]=="string"?fb_utils.replaceString(this.validation_config[c][j],"\\","\\\\"):this.validation_config[c][j]}}}}}}}}}}}a[c]=h}}var k=fb_utils.replaceString(JSON.stringify(a),"'","\\'");var g=" var data_validation = '"+k+"';";g+="\n var data_jsplugins = '"+JSON.stringify(this.plugins_config.js)+"';";g+="\n var data_cssplugins = '"+JSON.stringify(this.plugins_config.css)+"';";return g};ValidationConfig.prototype.get_json_for_server=function(){var r={};for(var o in this.validation_config){if(this.validation_config.hasOwnProperty(o)){var s={};if(o=="fb-submit-button"||(o!="reCaptcha"&&o!="_special"&&!$("#"+o).length)){continue}else{if(o=="reCaptcha"){var j=this.validation_config[o]["captcha_status"];if(j=="none"){continue}for(var g in this.validation_config[o]){var t=this.validation_config[o][g];if(g=="captcha_status"){s.captcha=j}else{if(j=="manual"){s[g]=fb_utils.replaceString(t,"'","\\'")}}}s.fieldtype="captcha";r[o]=s}else{if(o=="_special"){r[o]=this.validation_config[o]}else{var y=$("#"+o).attr("name");if(y.substr(y.length-2,y.length)=="[]"){y=y.substr(0,y.length-2)}y=fb_utils.replaceString(y,"'","\\'");y=fb_utils.replaceString(y," ","_");y=fb_utils.replaceString(y,".","_");var n=false;for(var g in this.validation_config[o]){if(g=="checkbox"){n=true}if(n&&g=="minlength"){s.number_required=this.validation_config[o][g]}else{if(g=="equalTo"){var x=fb_utils.replaceString($("#"+this.validation_config[o][g]).attr("name")," ","_");x=fb_utils.replaceString(x,".","_");x=fb_utils.replaceString(x,"'","\\'");x=x.toLowerCase();s[g]=x}else{if(g=="accept"){s[g]=fb_utils.replaceString(this.validation_config[o][g],",","|")}else{if(g=="date_config"){var m={};for(var v in this.validation_config[o][g]){if(v=="minDate"||v=="maxDate"){var k=new Date(this.validation_config[o][g][v]);var p=new Date(Date.UTC(k.getFullYear(),k.getMonth(),k.getDate()));m[v]=p.getTime()/1000}else{m[v]=this.validation_config[o][g][v]}}s[g]=m}else{if(g=="maxbytes"){s[g]=this.validation_config[o][g]*1024}else{if(g=="regex_config"){s[g]=this.validation_config[o][g].value}else{if(g=="messages"){var c=this.validation_config[o][g];c=fb_utils.replaceString(c,"\r","");c=fb_utils.replaceString(c,"\n","");s[g]=c}else{var t=this.validation_config[o][g];if(typeof(t)=="string"){s[g]=fb_utils.replaceString(t,"'","\\'")}else{s[g]=t}}}}}}}}}if(this.validation_config[o]["fieldtype"]=="checkbox"||this.validation_config[o]["fieldtype"]=="radiogroup"){var a=[];var d=$("input[name='"+$("#"+o).attr("name")+"']").get();for(var u=0;u<d.length;u++){a.push(jQuery.trim(fb_utils.htmlDecode($(d[u]).attr("value"))))}s.values=a}else{if(this.validation_config[o]["fieldtype"]=="dropdown"||this.validation_config[o]["fieldtype"]=="listbox"){var a=[];var f=$("#"+o+" option").get();for(var u=0;u<f.length;u++){a.push(jQuery.trim(fb_utils.htmlDecode($(f[u]).attr("value"))))}s.values=a}}r[y]=s}}}}}var e=$("#docContainer input[type=hidden]").get();for(u=0;u<e.length;u++){r[e[u].name]={fieldtype:"hidden",maxbytes:1024,database:true}}var h=new Array();var q={};for(var u in r){var l="[name="+u+"]";var w=$(l,"#docContainer");if(!w.length){l="[name='"+u+"[]']:first"}w=$(l,"#docContainer");if(w.length){h.push({pos:w.position(),name:u})}else{h.push({pos:-1,name:u})}}h.sort(function(z,i){if(z.pos==-1){return 1}if(i.pos==-1){return -1}if(z.pos.top==0){return 1}if(i.pos.top==0){return -1}if(z.pos.top==i.pos.top){return z.pos.left-i.pos.left}else{return z.pos.top-i.pos.top}});for(var u in h){q[h[u].name.toLowerCase()]=r[h[u].name]}var b=JSON.stringify(q);return b};ValidationConfig.prototype.get_all_names=function(a){var e=[];for(var g in this.validation_config){if(g!="fb-submit-button"&&g!="reCaptcha"&&this.validation_config.hasOwnProperty(g)&&$("#"+g).length){var b=$("#"+g).attr("name");if(!b.length){continue}if(b.substr(b.length-2,b.length)=="[]"){b=b.substr(0,b.length-2)}e.push(this.normalize_name(b))}}var f=a;if(f){for(var g in pPaymentsConfig.get_config()){if(g!="fb-submit-button"&&g!="reCaptcha"&&this.validation_config.hasOwnProperty(g)&&$("#"+g).length&&pPaymentsConfig.get_config_value(g,"type")!="none"&&pPaymentsConfig.get_config_value(g,"type")!="cart_multiplier"){var b=$("#"+g).attr("name");if(!b.length){continue}if(b.substr(b.length-2,b.length)=="[]"){b=b.substr(0,b.length-2)}e.push(this.normalize_name(b+"_price"));e.push(this.normalize_name(b+"_invoicetext"))}}}var d=$("#docContainer input:hidden").get();for(var c=0;c<d.length;c++){if(d[c].name!=undefined&&d[c].name!=""){e.push(this.normalize_name(d[c].name))}}e.push("form_results");e.push("_submitted_");e.push("_fromaddress_");if(f){e.push("form_price");e.push("form_invoicetext");e.push("cart_summary");e.push("cart_total")}return e};ValidationConfig.prototype.get_email_names=function(){var a=[];for(var b in this.validation_config){if(this.validation_config.hasOwnProperty(b)){if(this.validation_config[b]["email"]){a.push(this.normalize_name($("#"+b).attr("name")))}}}return a};ValidationConfig.prototype.get_contactlist_names=function(){var a=[];for(var b in this.validation_config){if(this.validation_config.hasOwnProperty(b)){if(this.validation_config[b]["contactList"]){a.push(this.normalize_name($("#"+b).attr("name")))}}}return a};ValidationConfig.prototype.set_plugins=function(b,a){this.plugins_config.js=b;this.plugins_config.css=a};var pValidationConfig=new ValidationConfig();